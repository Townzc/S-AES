# S-AES算法系统用户指南

## 目录
1. [系统概述](#系统概述)
2. [安装与启动](#安装与启动)
3. [界面介绍](#界面介绍)
4. [功能详解](#功能详解)
5. [操作示例](#操作示例)
6. [常见问题](#常见问题)
7. [技术支持](#技术支持)

## 系统概述

S-AES（Simplified AES）算法实现系统是一个完整的教学演示工具，实现了简化版AES算法的核心功能。系统采用图形用户界面，支持5个关卡的功能测试，适合密码学学习和研究使用。

### 主要特性
- 🔒 完整的S-AES算法实现
- 🖥️ 直观的图形用户界面
- 📊 详细的算法执行过程展示
- 🧪 多种测试模式和攻击演示
- 📚 丰富的测试用例和文档

## 安装与启动

### 系统要求
- 操作系统：Windows 10/11, macOS 10.14+, Linux (Ubuntu 18.04+)
- Python版本：3.7 或更高版本
- 内存：至少 512MB 可用内存
- 存储：约 50MB 可用空间

### 安装步骤

1. **确认Python环境**
   ```bash
   python --version
   # 应显示 Python 3.7.x 或更高版本
   ```

2. **下载项目文件**
   - 从提供的链接下载项目压缩包
   - 解压到本地目录

3. **启动系统**
   ```bash
   cd S-AES项目目录
   python gui.py
   ```

### 验证安装
启动后应看到包含5个标签页的图形界面，如果出现错误请参考[常见问题](#常见问题)部分。

## 界面介绍

### 主界面布局

系统采用标签页设计，每个标签页对应一个功能关卡：

```
┌─────────────────────────────────────────────────────────┐
│ [第1关：基本测试] [第2关：交叉测试] [第3关：ASCII扩展] │
│ [第4关：多重加密] [第5关：CBC模式] [关于]              │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  输入区域：                                             │
│  ┌─────────────────┐  ┌─────────────────┐              │
│  │ 明文输入框       │  │ 密钥输入框       │              │
│  └─────────────────┘  └─────────────────┘              │
│                                                         │
│  操作按钮：                                             │
│  [加密] [解密] [清除]                                   │
│                                                         │
│  结果显示区域：                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │         详细的处理过程和结果                      │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 输入格式说明

系统支持多种输入格式：

1. **二进制格式**：16位二进制数
   - 示例：`0110111101101011`
   - 用途：直接展示算法的位运算过程

2. **十六进制格式**：4位十六进制数
   - 示例：`6F6B`
   - 用途：简洁表示，便于计算验证

3. **ASCII文本**：任意长度字符串
   - 示例：`Hello World!`
   - 用途：实际应用场景模拟

## 功能详解

### 第1关：基本测试

**功能概述**：实现标准S-AES算法的基本加解密功能。

**操作步骤**：
1. 在"明文"输入框输入16位数据
2. 在"密钥"输入框输入16位密钥
3. 点击"加密"按钮执行加密
4. 查看结果区域的详细过程
5. 可将密文作为输入进行解密验证

**输出信息**：
- 输入的明文和密钥（二进制和十六进制格式）
- 生成的密文
- 解密验证结果
- 算法执行状态

**典型用例**：
```
明文: 0110111101101011 (6F6B)
密钥: 1010011100111011 (A73B)
密文: 1111000110000110 (F186)
```

### 第2关：交叉测试

**功能概述**：验证算法实现的标准化兼容性。

**操作步骤**：
1. 点击"运行标准测试用例"按钮
2. 系统自动执行多组预设测试
3. 查看每个测试用例的详细结果
4. 验证所有测试是否通过

**测试内容**：
- 标准测试向量验证
- 边界条件测试（全0、全1）
- 随机数据测试
- 加解密一致性验证

**结果解读**：
- ✓ 通过：该测试用例正确
- ✗ 失败：实现可能存在问题
- 详细信息：显示具体的输入输出数据

### 第3关：ASCII扩展

**功能概述**：支持ASCII字符串的分组加解密。

**操作步骤**：
1. 在"ASCII文本"框输入要加密的字符串
2. 设置16位密钥
3. 点击"加密ASCII"处理字符串
4. 查看分组处理过程
5. 使用十六进制密文进行解密测试

**处理过程**：
1. 字符串转换为字节序列
2. 按2字节分组（16位）
3. 不足部分自动填充
4. 逐个分组执行S-AES加密
5. 结果转换为十六进制表示

**注意事项**：
- 解密时需输入十六进制格式的密文
- 加密后的字符串可能包含不可打印字符
- 填充字符在解密时会自动移除

### 第4关：多重加密

**功能概述**：实现双重、三重加密及中间相遇攻击演示。

#### 双重加密
- **原理**：C = E_K2(E_K1(P))
- **密钥长度**：32位（K1 + K2）
- **安全性**：相当于21位密钥强度（生日攻击）

#### 三重加密（2密钥）
- **原理**：C = E_K1(D_K2(E_K1(P)))
- **模式**：EDE（加密-解密-加密）
- **密钥长度**：32位（K1 + K2）

#### 三重加密（3密钥）
- **原理**：C = E_K3(E_K2(E_K1(P)))
- **密钥长度**：48位（K1 + K2 + K3）
- **安全性**：最高安全级别

#### 中间相遇攻击
- **目标**：破解双重加密
- **原理**：时间-空间权衡攻击
- **演示**：自动寻找正确密钥对

**操作步骤**：
1. 选择加密模式（单选按钮）
2. 输入相应长度的密钥
3. 执行加密或解密操作
4. 观察中间相遇攻击的执行过程

### 第5关：CBC工作模式

**功能概述**：实现密码分组链模式，支持任意长度明文。

**CBC模式特点**：
- 每个分组与前一个密文分组异或
- 第一个分组与初始向量(IV)异或
- 错误会传播到后续分组
- 相同明文分组产生不同密文

**操作步骤**：
1. 输入任意长度的明文消息
2. 设置16位密钥和初始向量
3. 执行CBC加密
4. 查看分组处理详情
5. 进行解密验证或篡改测试

**篡改测试**：
- 修改密文中的某个分组
- 观察对解密结果的影响
- 理解CBC模式的错误传播特性

## 操作示例

### 示例1：基本加解密测试

1. **准备数据**
   ```
   明文: 0110111101101011
   密钥: 1010011100111011
   ```

2. **执行加密**
   - 切换到"第1关：基本测试"
   - 输入明文和密钥
   - 点击"加密"按钮

3. **预期结果**
   ```
   密文: 1111000110000110 (F186)
   状态: ✓ 加密成功
   ```

4. **验证解密**
   - 将密文复制到明文输入框
   - 点击"解密"按钮
   - 确认恢复原始明文

### 示例2：ASCII字符串处理

1. **输入字符串**
   ```
   文本: Hello!
   密钥: A73B
   ```

2. **查看分组过程**
   ```
   分组1: 'He' -> 4865 (hex) -> 加密后...
   分组2: 'll' -> 6C6C (hex) -> 加密后...
   分组3: 'o!' -> 6F21 (hex) -> 加密后...
   ```

3. **解密验证**
   - 使用生成的十六进制密文
   - 执行解密操作
   - 确认恢复原始字符串

### 示例3：中间相遇攻击演示

1. **启动攻击**
   - 选择"中间相遇攻击"模式
   - 点击"中间相遇攻击"按钮
   - 等待攻击完成

2. **观察过程**
   ```
   第一阶段：计算 E_K1(P) for all K1...
   构建前向表，包含 4096 个条目
   第二阶段：计算 D_K2(C) 并查找匹配...
   找到正确密钥对!
   K1: 1010011100111011 (A73B)
   K2: 1100001111000011 (C0C3)
   ```

### 示例4：CBC模式测试

1. **设置参数**
   ```
   明文: This is a test message for CBC mode.
   密钥: A73B
   初始向量: F0F0
   ```

2. **执行加密**
   - 系统自动分组和填充
   - 显示每个分组的处理过程
   - 生成完整的密文序列

3. **篡改测试**
   - 系统自动修改密文的某个字节
   - 执行解密并显示影响
   - 观察错误传播效应

## 常见问题

### 安装问题

**Q: 运行时提示"ModuleNotFoundError"**
A: 检查Python版本是否满足要求（≥3.7），确保tkinter已安装。

**Q: 界面显示异常或乱码**
A: 确认系统支持中文显示，尝试调整系统编码设置。

### 使用问题

**Q: 输入格式不正确的错误**
A: 检查输入格式：
- 二进制：只能包含0和1，长度为16位
- 十六进制：只能包含0-9和A-F，长度为4位
- ASCII：任意可打印字符

**Q: 加解密结果不匹配**
A: 确认使用相同的密钥和参数，检查输入数据的准确性。

**Q: 中间相遇攻击运行时间很长**
A: 这是正常现象，攻击需要搜索大量密钥组合，请耐心等待。

**Q: CBC模式解密失败**
A: 确认初始向量(IV)与加密时一致，检查密文格式的完整性。

### 性能问题

**Q: 程序运行缓慢**
A: S-AES主要用于教学演示，性能不是主要考虑因素。如需提高性能，可以：
- 减少详细信息的显示
- 限制测试数据的规模
- 使用更快的计算机

**Q: 内存占用过高**
A: 清除结果显示区域的历史记录，关闭不必要的标签页。

## 技术支持

### 日志信息

如遇到问题，可以查看控制台输出的详细信息：

```bash
python gui.py
# 在控制台查看详细的执行日志
```

### 测试验证

运行完整测试用例验证系统功能：

```bash
python test_cases.py
```

### 联系方式

- **课程论坛**：发布技术问题和讨论
- **邮件支持**：发送详细的错误信息和系统环境
- **实验室答疑**：现场演示和调试

### 系统信息收集

报告问题时请提供以下信息：
1. 操作系统版本
2. Python版本
3. 错误的具体步骤
4. 错误消息的完整内容
5. 预期结果和实际结果

---

*本用户指南涵盖了S-AES算法系统的所有功能和操作方法。如有其他问题，请参考项目文档或联系技术支持。*
